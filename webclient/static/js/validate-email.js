// Generated by CoffeeScript 1.3.3
(function() {
  var validate_email;

  $(document).ready(function() {
    return validate_email.init();
  });

  validate_email = {
    init: function() {
      var code;
      if ($("div#validate-email") != null) {
        code = getParameterByName('code');
        return jQuery.ajax({
          url: VALIDATE_EMAIL,
          data: {
            code: code
          },
          success: function(data) {
            $("div#validate-email div#please-wait").hide();
            if (data.exception) {
              $("#validation-error h2").text(data.exception);
              $("#validation-error").fadeIn(1000);
              return;
            }
            if (data.result) {
              $("#validation-success").fadeIn(1000);
            }
          }
        });
      }
    }
  };

}).call(this);
